{"ast":null,"code":"import { UPLOAD_PICTURE, GET_ERRORS } from './../constants/types';\nimport callAPI from './../common/callApi';\nexport const uploadPicture = file => dispatch => {\n  const formData = new FormData();\n  formData.append('avatar', file);\n  callAPI('/updateAvatar', 'POST', formData).then(res => {\n    const filePath = res.data.filePath;\n    const fileName = filePath.split('/')[1];\n    callAPI(\"/getAvatar/\".concat(fileName), 'GET', null).then(response => {\n      dispatch({\n        type: UPLOAD_PICTURE,\n        payload: response.data\n      });\n    }).catch(err => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};","map":{"version":3,"sources":["E:\\react-material\\front-end\\src\\actions\\account.js"],"names":["UPLOAD_PICTURE","GET_ERRORS","callAPI","uploadPicture","file","dispatch","formData","FormData","append","then","res","filePath","data","fileName","split","response","type","payload","catch","err"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,UAAzB,QAA2C,sBAA3C;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,OAAO,MAAMC,aAAa,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AAC7C,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BJ,IAA1B;AACAF,EAAAA,OAAO,CAAC,eAAD,EAAkB,MAAlB,EAA0BI,QAA1B,CAAP,CACKG,IADL,CACUC,GAAG,IAAI;AACT,UAAMC,QAAQ,GAAGD,GAAG,CAACE,IAAJ,CAASD,QAA1B;AACA,UAAME,QAAQ,GAAEF,QAAQ,CAACG,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAhB;AACAZ,IAAAA,OAAO,sBAAeW,QAAf,GAA2B,KAA3B,EAAkC,IAAlC,CAAP,CACKJ,IADL,CACUM,QAAQ,IAAI;AACdV,MAAAA,QAAQ,CAAC;AACLW,QAAAA,IAAI,EAAEhB,cADD;AAELiB,QAAAA,OAAO,EAAEF,QAAQ,CAACH;AAFb,OAAD,CAAR;AAIH,KANL,EAOKM,KAPL,CAOWC,GAAG,IAAI;AACVd,MAAAA,QAAQ,CAAC;AACLW,QAAAA,IAAI,EAAEf,UADD;AAELgB,QAAAA,OAAO,EAAEE,GAAG,CAACJ,QAAJ,CAAaH;AAFjB,OAAD,CAAR;AAIH,KAZL;AAaH,GAjBL,EAkBKM,KAlBL,CAkBWC,GAAG,IAAI;AACVd,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAEf,UADD;AAELgB,MAAAA,OAAO,EAAEE,GAAG,CAACJ,QAAJ,CAAaH;AAFjB,KAAD,CAAR;AAIH,GAvBL;AAwBH,CA3BM","sourcesContent":["import { UPLOAD_PICTURE, GET_ERRORS } from './../constants/types';\r\nimport callAPI from './../common/callApi';\r\n\r\nexport const uploadPicture = file => dispatch => {\r\n    const formData = new FormData();\r\n    formData.append('avatar', file);\r\n    callAPI('/updateAvatar', 'POST', formData)\r\n        .then(res => {\r\n            const filePath = res.data.filePath;\r\n            const fileName= filePath.split('/')[1];\r\n            callAPI(`/getAvatar/${fileName}`, 'GET', null)\r\n                .then(response => {\r\n                    dispatch({\r\n                        type: UPLOAD_PICTURE,\r\n                        payload: response.data\r\n                    });\r\n                })\r\n                .catch(err => {\r\n                    dispatch({\r\n                        type: GET_ERRORS,\r\n                        payload: err.response.data\r\n                    });\r\n                });\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        });\r\n}"]},"metadata":{},"sourceType":"module"}