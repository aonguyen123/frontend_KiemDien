{"ast":null,"code":"import { GET_ERRORS, CLEARN_ERRORS, ADD_ClASS, OPEN_NOTIFY, UPDATE_INFO_CLASS_BY_ID, UPDATE_AVATAR_CLASS_BY_ID, REMOVE_AVATAR_CLASS_BY_ID } from './../constants/types';\nimport callAPI from './../common/callApi';\nexport const addClass = newClass => dispatch => {\n  callAPI('/createClass', 'POST', {\n    newClass\n  }).then(res => {\n    dispatch({\n      type: OPEN_NOTIFY\n    });\n    dispatch({\n      type: ADD_ClASS,\n      payload: res.data\n    });\n    dispatch({\n      type: CLEARN_ERRORS,\n      payload: {}\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const updateInfoClassById = newClass => dispatch => {\n  callAPI('/updateInfoClass', 'PUT', newClass).then(res => {\n    dispatch({\n      type: OPEN_NOTIFY\n    });\n    dispatch({\n      type: UPDATE_INFO_CLASS_BY_ID,\n      payload: res.data\n    });\n    dispatch({\n      type: CLEARN_ERRORS,\n      payload: {}\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const updateAvatarClassById = (file, _id) => dispatch => {\n  const formData = new FormData();\n  formData.set('_id', _id);\n  formData.append('avatar', file);\n  callAPI('/updateAvatarClassById', 'POST', formData).then(res => {\n    dispatch({\n      type: OPEN_NOTIFY\n    });\n    dispatch({\n      type: UPDATE_AVATAR_CLASS_BY_ID,\n      payload: res.data\n    });\n    dispatch({\n      type: CLEARN_ERRORS,\n      payload: {}\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const removeAvatarClass = _id => dispatch => {\n  callAPI('/removeAvatarClassById', 'DELETE', {\n    id: _id\n  }).then(res => {\n    dispatch({\n      type: OPEN_NOTIFY\n    });\n    dispatch({\n      type: REMOVE_AVATAR_CLASS_BY_ID,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};","map":{"version":3,"sources":["E:\\react-material\\front-end\\src\\actions\\actionClass.js"],"names":["GET_ERRORS","CLEARN_ERRORS","ADD_ClASS","OPEN_NOTIFY","UPDATE_INFO_CLASS_BY_ID","UPDATE_AVATAR_CLASS_BY_ID","REMOVE_AVATAR_CLASS_BY_ID","callAPI","addClass","newClass","dispatch","then","res","type","payload","data","catch","err","response","updateInfoClassById","updateAvatarClassById","file","_id","formData","FormData","set","append","removeAvatarClass","id"],"mappings":"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","sourcesContent":["import {\r\n    GET_ERRORS,\r\n    CLEARN_ERRORS,\r\n    ADD_ClASS,\r\n    OPEN_NOTIFY,\r\n    UPDATE_INFO_CLASS_BY_ID,\r\n    UPDATE_AVATAR_CLASS_BY_ID,\r\n    REMOVE_AVATAR_CLASS_BY_ID\r\n} from './../constants/types';\r\nimport callAPI from './../common/callApi';\r\n\r\nexport const addClass = newClass => dispatch => {\r\n    callAPI('/createClass', 'POST', { newClass })\r\n        .then(res => {\r\n            dispatch({\r\n                type: OPEN_NOTIFY\r\n            });\r\n            dispatch({\r\n                type: ADD_ClASS,\r\n                payload: res.data\r\n            });\r\n            dispatch({\r\n                type: CLEARN_ERRORS,\r\n                payload: {}\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        });\r\n};\r\nexport const updateInfoClassById = newClass => dispatch => {\r\n    callAPI('/updateInfoClass', 'PUT', newClass)\r\n        .then(res => {\r\n            dispatch({\r\n                type: OPEN_NOTIFY\r\n            });\r\n            dispatch({\r\n                type: UPDATE_INFO_CLASS_BY_ID,\r\n                payload: res.data\r\n            });\r\n            dispatch({\r\n                type: CLEARN_ERRORS,\r\n                payload: {}\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        })\r\n};\r\nexport const updateAvatarClassById = (file, _id) => dispatch => {\r\n    const formData = new FormData();\r\n    formData.set('_id', _id);\r\n    formData.append('avatar', file);\r\n    callAPI('/updateAvatarClassById', 'POST', formData)\r\n        .then(res => {\r\n            dispatch({\r\n                type: OPEN_NOTIFY\r\n            });\r\n            dispatch({\r\n                type: UPDATE_AVATAR_CLASS_BY_ID,\r\n                payload: res.data\r\n            });\r\n            dispatch({\r\n                type: CLEARN_ERRORS,\r\n                payload: {}\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        })\r\n};\r\nexport const removeAvatarClass = _id => dispatch => {\r\n    callAPI('/removeAvatarClassById', 'DELETE', {id: _id})\r\n        .then(res => {\r\n            dispatch({\r\n                type: OPEN_NOTIFY\r\n            });\r\n            dispatch({\r\n                type: REMOVE_AVATAR_CLASS_BY_ID,\r\n                payload: res.data\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        });\r\n};"]},"metadata":{},"sourceType":"module"}