{"ast":null,"code":"var _jsxFileName = \"E:\\\\react-material\\\\front-end\\\\src\\\\views\\\\Dashboard\\\\components\\\\MemberByPresence\\\\chart.js\";\nimport React from 'react';\nimport palette from 'theme/palette';\nimport PresentIcon from '@material-ui/icons/Spellcheck';\nimport ResonIcon from '@material-ui/icons/Warning';\nimport AbsentIcon from '@material-ui/icons/CancelPresentation';\nimport moment from 'moment';\nexport const fillData = (dataPresences, index) => {\n  const checkDates = dataPresences.checkDates,\n        classPresences = dataPresences.classPresences;\n  const monthCurrent = moment().format('MM');\n  let listDataPresent = [];\n  let listDataReason = [];\n  let listAbsent = [];\n  checkDates.forEach(element => {\n    classPresences.forEach(lop => {\n      if (lop._id === element.idClass) {\n        element.dateList.forEach(date => {\n          if (moment(date.date).format('MM') === monthCurrent) {\n            lop.dssv.forEach(sv => {\n              if (sv.checkDate.length === 0) {\n                listAbsent.push(sv);\n              } else {\n                sv.checkDate.forEach(item => {\n                  if (moment(item.date).format('MM') === moment(date.date).format('MM') && item.status) {\n                    listDataPresent.push(sv);\n                  } else if (moment(item.date).format('MM') === moment(date.date).format('MM') && !item.status) {\n                    listDataReason.push(sv);\n                  } //else if(moment(item.date).format('MM') === moment(date.date).format('MM') && !item.status)\n\n                });\n              }\n            });\n          }\n        });\n      }\n    });\n  });\n  console.log(listDataReason);\n  console.log(listDataPresent);\n  console.log(listAbsent); // dataClass.forEach(lop => {\n  //     presences.presenceList.forEach(kd => {\n  //     });\n  // });\n  //const start = moment(new Date()).startOf('isoWeek');\n  // presences.forEach(e => {\n  //     e.presenceList.forEach(item => {\n  //         if(moment(item.checkDate, 'DD/MM/YYYY').isSame(start, 'isoWeek') && item.status)\n  //         {\n  //             listDataPresent.push(item);\n  //         }\n  //         else if(moment(item.checkDate, 'DD/MM/YYYY').isSame(start, 'isoWeek') && !item.status)\n  //         {\n  //             listDataReason.push(item);\n  //         }\n  //     });\n  // });\n  // console.log(listDataPresent.length);\n  // console.log(listDataReason.length);\n  //console.log(moment().isBetween(start, end));\n\n  const data = {\n    datasets: [{\n      data: [80, 5, 15],\n      backgroundColor: [palette.primary.main, palette.error.main, palette.warning.main],\n      borderWidth: 5,\n      borderColor: palette.white,\n      hoverBorderColor: palette.white\n    }],\n    labels: ['Present', 'Absent', 'Reason']\n  };\n  return data;\n};\nexport const data = {\n  datasets: [{\n    data: [80, 5, 15],\n    backgroundColor: [palette.primary.main, palette.error.main, palette.warning.main],\n    borderWidth: 5,\n    borderColor: palette.white,\n    hoverBorderColor: palette.white\n  }],\n  labels: ['Present', 'Absent', 'Reason']\n};\nexport const options = {\n  legend: {\n    display: false\n  },\n  responsive: true,\n  maintainAspectRatio: false,\n  layout: {\n    padding: 0\n  },\n  tooltips: {\n    enabled: true,\n    mode: 'index',\n    intersect: false,\n    borderWidth: 1,\n    borderColor: palette.divider,\n    backgroundColor: palette.white,\n    titleFontColor: palette.text.primary,\n    bodyFontColor: palette.text.secondary,\n    footerFontColor: palette.text.secondary\n  }\n};\nexport const devices = [{\n  title: 'Present',\n  value: '63',\n  icon: React.createElement(PresentIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }),\n  color: palette.primary.main\n}, {\n  title: 'Absent',\n  value: '15',\n  icon: React.createElement(AbsentIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }),\n  color: palette.error.main\n}, {\n  title: 'Reson',\n  value: '23',\n  icon: React.createElement(ResonIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }),\n  color: palette.warning.main\n}];","map":{"version":3,"sources":["E:\\react-material\\front-end\\src\\views\\Dashboard\\components\\MemberByPresence\\chart.js"],"names":["React","palette","PresentIcon","ResonIcon","AbsentIcon","moment","fillData","dataPresences","index","checkDates","classPresences","monthCurrent","format","listDataPresent","listDataReason","listAbsent","forEach","element","lop","_id","idClass","dateList","date","dssv","sv","checkDate","length","push","item","status","console","log","data","datasets","backgroundColor","primary","main","error","warning","borderWidth","borderColor","white","hoverBorderColor","labels","options","legend","display","responsive","maintainAspectRatio","layout","padding","tooltips","enabled","mode","intersect","divider","titleFontColor","text","bodyFontColor","secondary","footerFontColor","devices","title","value","icon","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport palette from 'theme/palette';\r\nimport PresentIcon from '@material-ui/icons/Spellcheck';\r\nimport ResonIcon from '@material-ui/icons/Warning';\r\nimport AbsentIcon from '@material-ui/icons/CancelPresentation';\r\nimport moment from 'moment';\r\n\r\nexport const fillData = (dataPresences, index) => {\r\n    const { checkDates, classPresences } = dataPresences;\r\n    const monthCurrent = moment().format('MM');\r\n    let listDataPresent = [];\r\n    let listDataReason = [];\r\n    let listAbsent = [];\r\n\r\n    checkDates.forEach(element => {\r\n        classPresences.forEach(lop => {\r\n            if(lop._id === element.idClass)\r\n            {\r\n                element.dateList.forEach(date => {\r\n                    if(moment(date.date).format('MM') === monthCurrent)\r\n                    {\r\n                        lop.dssv.forEach(sv => {\r\n                            if(sv.checkDate.length === 0)\r\n                            {\r\n                                listAbsent.push(sv);\r\n                            }\r\n                            else\r\n                            {\r\n                                sv.checkDate.forEach(item => {\r\n                                    if(moment(item.date).format('MM') === moment(date.date).format('MM') && item.status)\r\n                                    {\r\n                                        listDataPresent.push(sv);\r\n                                    }\r\n                                    else if(moment(item.date).format('MM') === moment(date.date).format('MM') && !item.status)\r\n                                    {\r\n                                        listDataReason.push(sv);\r\n                                    }\r\n                                    //else if(moment(item.date).format('MM') === moment(date.date).format('MM') && !item.status)\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    });\r\n    console.log(listDataReason);\r\n    console.log(listDataPresent);\r\n    console.log(listAbsent);\r\n\r\n    // dataClass.forEach(lop => {\r\n    //     presences.presenceList.forEach(kd => {\r\n           \r\n    //     });\r\n    // });\r\n\r\n    //const start = moment(new Date()).startOf('isoWeek');\r\n\r\n    \r\n    // presences.forEach(e => {\r\n    //     e.presenceList.forEach(item => {\r\n    //         if(moment(item.checkDate, 'DD/MM/YYYY').isSame(start, 'isoWeek') && item.status)\r\n    //         {\r\n    //             listDataPresent.push(item);\r\n    //         }\r\n    //         else if(moment(item.checkDate, 'DD/MM/YYYY').isSame(start, 'isoWeek') && !item.status)\r\n    //         {\r\n    //             listDataReason.push(item);\r\n    //         }\r\n    //     });\r\n    // });\r\n        \r\n    // console.log(listDataPresent.length);\r\n    // console.log(listDataReason.length);\r\n\r\n    //console.log(moment().isBetween(start, end));\r\n\r\n    const data = {\r\n        datasets: [\r\n            {\r\n                data: [80, 5, 15],\r\n                backgroundColor: [\r\n                    palette.primary.main,\r\n                    palette.error.main,\r\n                    palette.warning.main\r\n                ],\r\n                borderWidth: 5,\r\n                borderColor: palette.white,\r\n                hoverBorderColor: palette.white\r\n            }\r\n        ],\r\n        labels: ['Present', 'Absent', 'Reason']\r\n    };\r\n    return data;\r\n};\r\n\r\nexport const data = {\r\n    datasets: [\r\n        {\r\n            data: [80, 5, 15],\r\n            backgroundColor: [\r\n                palette.primary.main,\r\n                palette.error.main,\r\n                palette.warning.main\r\n            ],\r\n            borderWidth: 5,\r\n            borderColor: palette.white,\r\n            hoverBorderColor: palette.white\r\n        }\r\n    ],\r\n    labels: ['Present', 'Absent', 'Reason']\r\n};\r\n\r\nexport const options = {\r\n    legend: {\r\n        display: false\r\n    },\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    layout: { padding: 0 },\r\n    tooltips: {\r\n        enabled: true,\r\n        mode: 'index',\r\n        intersect: false,\r\n        borderWidth: 1,\r\n        borderColor: palette.divider,\r\n        backgroundColor: palette.white,\r\n        titleFontColor: palette.text.primary,\r\n        bodyFontColor: palette.text.secondary,\r\n        footerFontColor: palette.text.secondary\r\n    }\r\n};\r\n\r\nexport const devices = [\r\n    {\r\n        title: 'Present',\r\n        value: '63',\r\n        icon: <PresentIcon />,\r\n        color: palette.primary.main\r\n    },\r\n    {\r\n        title: 'Absent',\r\n        value: '15',\r\n        icon: <AbsentIcon />,\r\n        color: palette.error.main\r\n    },\r\n    {\r\n        title: 'Reson',\r\n        value: '23',\r\n        icon: <ResonIcon />,\r\n        color: palette.warning.main\r\n    }\r\n];"]},"metadata":{},"sourceType":"module"}