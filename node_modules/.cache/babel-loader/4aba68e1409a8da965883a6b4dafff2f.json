{"ast":null,"code":"import _slicedToArray from \"E:\\\\react-material\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\react-material\\\\front-end\\\\src\\\\views\\\\PresencesDetail\\\\components\\\\PresencesTable\\\\PresencesTable.js\";\nimport React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { withStyles } from '@material-ui/styles';\nimport { Card, CardActions, CardContent, Checkbox, Table, TableBody, TableCell, TableHead, TableRow, Typography, TablePagination } from '@material-ui/core';\nimport moment from 'moment';\nimport CheckIcon from '@material-ui/icons/Check';\nimport { getInitials } from 'helpers'; //import { ToolbarTable } from './components';\n\nimport styles from './styles';\n\nconst PresencesTable = props => {\n  const className = props.className,\n        classes = props.classes,\n        presenceDetailClass = props.presenceDetailClass;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        selectedUsers = _useState2[0],\n        setSelectedUsers = _useState2[1];\n\n  const _useState3 = useState(5),\n        _useState4 = _slicedToArray(_useState3, 2),\n        rowsPerPage = _useState4[0],\n        setRowsPerPage = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        page = _useState6[0],\n        setPage = _useState6[1];\n\n  const checkDateList = presenceDetailClass.checkDateList,\n        classById = presenceDetailClass.classById;\n\n  const handleSelectAll = event => {\n    let selectedUsers;\n\n    if (event.target.checked) {\n      selectedUsers = classById.dssv.map(sv => sv._id);\n    } else {\n      selectedUsers = [];\n    }\n\n    setSelectedUsers(selectedUsers);\n  };\n\n  const handleSelectOne = (event, id) => {// const selectedIndex = selectedUsers.indexOf(id);\n    // let newSelectedUsers = [];\n    // if (selectedIndex === -1) {\n    //     newSelectedUsers = newSelectedUsers.concat(selectedUsers, id);\n    // } else if (selectedIndex === 0) {\n    //     newSelectedUsers = newSelectedUsers.concat(selectedUsers.slice(1));\n    // } else if (selectedIndex === selectedUsers.length - 1) {\n    //     newSelectedUsers = newSelectedUsers.concat(\n    //         selectedUsers.slice(0, -1)\n    //     );\n    // } else if (selectedIndex > 0) {\n    //     newSelectedUsers = newSelectedUsers.concat(\n    //         selectedUsers.slice(0, selectedIndex),\n    //         selectedUsers.slice(selectedIndex + 1)\n    //     );\n    // }\n    // setSelectedUsers(newSelectedUsers);\n  };\n\n  const handlePageChange = (event, page) => {\n    setPage(page);\n  };\n\n  const handleRowsPerPageChange = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  return React.createElement(Card, {\n    className: clsx(classes.root, className),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    className: classes.content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(PerfectScrollbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.inner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Table, {\n    size: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    rowSpan: 2,\n    padding: \"checkbox\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Checkbox, {\n    checked: classById.dssv && selectedUsers.length === classById.dssv.length,\n    color: \"primary\",\n    indeterminate: selectedUsers.length > 0 && selectedUsers.length < classById.dssv.length,\n    onChange: handleSelectAll,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    rowSpan: 2,\n    align: \"center\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Member code\"), React.createElement(TableCell, {\n    rowSpan: 2,\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Name\"), React.createElement(TableCell, {\n    rowSpan: 2,\n    align: \"center\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Birth date\"), React.createElement(TableCell, {\n    rowSpan: 2,\n    align: \"center\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Gender\"), checkDateList && React.createElement(TableCell, {\n    className: classes.borderTable,\n    colSpan: checkDateList.dateList && checkDateList.dateList.length,\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Check date\")), checkDateList && React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, checkDateList.dateList && checkDateList.dateList.map(date => React.createElement(TableCell, {\n    key: date._id,\n    align: \"center\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, date.date)))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, classById.dssv && classById.dssv.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(sv => React.createElement(TableRow, {\n    key: sv._id,\n    className: classes.tableRow,\n    hover: true,\n    selected: selectedUsers.indexOf(sv._id) !== -1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    padding: \"checkbox\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(Checkbox // checked={\n  //     selectedUsers.indexOf(\n  //         user._id\n  //     ) !== -1\n  // }\n  , {\n    color: \"primary\" // onChange={event =>\n    //     handleSelectOne(event, user._id)\n    // }\n    ,\n    value: \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    align: \"center\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"body1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, sv.maSV)), React.createElement(TableCell, {\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, sv.tenSV), React.createElement(TableCell, {\n    align: \"center\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, sv.ngaysinh), React.createElement(TableCell, {\n    align: \"center\",\n    className: classes.borderTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, sv.gioitinh), checkDateList && checkDateList.dateList.map(date => {\n    if (!sv.checkDate.some(x => x === date.date)) {\n      return React.createElement(TableCell, {\n        key: date._id,\n        align: \"center\",\n        className: classes.borderTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      });\n    }\n\n    return sv.checkDate.map((kd, index) => {\n      if (date.date === kd) {\n        //console.log(kd)\n        return React.createElement(TableCell, {\n          key: index,\n          align: \"center\",\n          className: classes.borderTable,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(CheckIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }));\n      }\n    });\n  })))))))), React.createElement(CardActions, {\n    className: classes.actions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, React.createElement(TablePagination, {\n    component: \"div\",\n    count: classById.dssv ? classById.dssv.length : 0,\n    onChangePage: handlePageChange,\n    onChangeRowsPerPage: handleRowsPerPageChange,\n    page: page,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: [],\n    backIconButtonProps: {\n      'aria-label': 'previous page'\n    },\n    nextIconButtonProps: {\n      'aria-label': 'next page'\n    },\n    labelRowsPerPage: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  })));\n};\n\nexport default withStyles(styles)(PresencesTable);","map":{"version":3,"sources":["E:\\react-material\\front-end\\src\\views\\PresencesDetail\\components\\PresencesTable\\PresencesTable.js"],"names":["React","useState","useEffect","clsx","PerfectScrollbar","withStyles","Card","CardActions","CardContent","Checkbox","Table","TableBody","TableCell","TableHead","TableRow","Typography","TablePagination","moment","CheckIcon","getInitials","styles","PresencesTable","props","className","classes","presenceDetailClass","selectedUsers","setSelectedUsers","rowsPerPage","setRowsPerPage","page","setPage","checkDateList","classById","handleSelectAll","event","target","checked","dssv","map","sv","_id","handleSelectOne","id","handlePageChange","handleRowsPerPageChange","value","root","content","inner","borderTable","length","dateList","date","slice","tableRow","indexOf","maSV","tenSV","ngaysinh","gioitinh","checkDate","some","x","kd","index","actions"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport {\r\n    Card,\r\n    CardActions,\r\n    CardContent,\r\n    Checkbox,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableHead,\r\n    TableRow,\r\n    Typography,\r\n    TablePagination\r\n} from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport { getInitials } from 'helpers';\r\n//import { ToolbarTable } from './components';\r\nimport styles from './styles';\r\n\r\nconst PresencesTable = props => {\r\n    const { className, classes, presenceDetailClass } = props;\r\n    const [selectedUsers, setSelectedUsers] = useState([]);\r\n    const [rowsPerPage, setRowsPerPage] = useState(5);\r\n    const [page, setPage] = useState(0);\r\n    const { checkDateList, classById } = presenceDetailClass;\r\n\r\n    const handleSelectAll = event => {\r\n        let selectedUsers;\r\n        if (event.target.checked) {\r\n            selectedUsers = classById.dssv.map(sv => sv._id);\r\n        } else {\r\n            selectedUsers = [];\r\n        }\r\n        setSelectedUsers(selectedUsers);\r\n    };\r\n    const handleSelectOne = (event, id) => {\r\n        // const selectedIndex = selectedUsers.indexOf(id);\r\n        // let newSelectedUsers = [];\r\n        // if (selectedIndex === -1) {\r\n        //     newSelectedUsers = newSelectedUsers.concat(selectedUsers, id);\r\n        // } else if (selectedIndex === 0) {\r\n        //     newSelectedUsers = newSelectedUsers.concat(selectedUsers.slice(1));\r\n        // } else if (selectedIndex === selectedUsers.length - 1) {\r\n        //     newSelectedUsers = newSelectedUsers.concat(\r\n        //         selectedUsers.slice(0, -1)\r\n        //     );\r\n        // } else if (selectedIndex > 0) {\r\n        //     newSelectedUsers = newSelectedUsers.concat(\r\n        //         selectedUsers.slice(0, selectedIndex),\r\n        //         selectedUsers.slice(selectedIndex + 1)\r\n        //     );\r\n        // }\r\n        // setSelectedUsers(newSelectedUsers);\r\n    };\r\n    const handlePageChange = (event, page) => {\r\n        setPage(page);\r\n    };\r\n    const handleRowsPerPageChange = event => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    return (\r\n        <Card className={clsx(classes.root, className)}>\r\n            {/* <ToolbarTable\r\n                selectedUsers={selectedUsers}\r\n                deleteUsers={deleteUsers}\r\n            /> */}\r\n            <CardContent className={classes.content}>\r\n                <PerfectScrollbar>\r\n                    <div className={classes.inner}>\r\n                        <Table size=\"small\">\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell\r\n                                        rowSpan={2}\r\n                                        padding=\"checkbox\"\r\n                                        className={classes.borderTable}\r\n                                    >\r\n                                        <Checkbox\r\n                                            checked={\r\n                                                classById.dssv &&\r\n                                                selectedUsers.length ===\r\n                                                classById.dssv.length\r\n                                            }\r\n                                            color=\"primary\"\r\n                                            indeterminate={\r\n                                                selectedUsers.length > 0 &&\r\n                                                selectedUsers.length <\r\n                                                classById.dssv.length\r\n                                            }\r\n                                            onChange={handleSelectAll}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        rowSpan={2}\r\n                                        align=\"center\"\r\n                                        className={classes.borderTable}\r\n                                    >\r\n                                        Member code\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        rowSpan={2}\r\n                                        className={classes.borderTable}\r\n                                    >\r\n                                        Name\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        rowSpan={2}\r\n                                        align=\"center\"\r\n                                        className={classes.borderTable}\r\n                                    >\r\n                                        Birth date\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        rowSpan={2}\r\n                                        align=\"center\"\r\n                                        className={classes.borderTable}\r\n                                    >\r\n                                        Gender\r\n                                    </TableCell>\r\n                                    {checkDateList && (\r\n                                        <TableCell\r\n                                            className={classes.borderTable}\r\n                                            colSpan={\r\n                                                checkDateList.dateList &&\r\n                                                checkDateList.dateList.length\r\n                                            }\r\n                                            align=\"center\"\r\n                                        >\r\n                                            Check date\r\n                                        </TableCell>\r\n                                    )}\r\n                                </TableRow>\r\n                                {checkDateList && (\r\n                                    <TableRow>\r\n                                        {checkDateList.dateList &&\r\n                                            checkDateList.dateList.map(date => (\r\n                                                <TableCell\r\n                                                    key={date._id}\r\n                                                    align=\"center\"\r\n                                                    className={\r\n                                                        classes.borderTable\r\n                                                    }\r\n                                                >\r\n                                                    {date.date}\r\n                                                </TableCell>\r\n                                            ))}\r\n                                    </TableRow>\r\n                                )}\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {classById.dssv &&\r\n                                    classById.dssv.slice(\r\n                                        page * rowsPerPage,\r\n                                        page * rowsPerPage + rowsPerPage\r\n                                    )\r\n                                    .map(sv => (\r\n                                        <TableRow\r\n                                            key={sv._id}\r\n                                            className={classes.tableRow}\r\n                                            hover\r\n                                            selected={\r\n                                                selectedUsers.indexOf(\r\n                                                    sv._id\r\n                                                ) !== -1\r\n                                            }\r\n                                        >\r\n                                            <TableCell\r\n                                                padding=\"checkbox\"\r\n                                                className={classes.borderTable}\r\n                                            >\r\n                                                <Checkbox\r\n                                                    // checked={\r\n                                                    //     selectedUsers.indexOf(\r\n                                                    //         user._id\r\n                                                    //     ) !== -1\r\n                                                    // }\r\n                                                    color=\"primary\"\r\n                                                    // onChange={event =>\r\n                                                    //     handleSelectOne(event, user._id)\r\n                                                    // }\r\n                                                    value=\"true\"\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                align=\"center\"\r\n                                                className={classes.borderTable}\r\n                                            >\r\n                                                <Typography variant=\"body1\">\r\n                                                    {sv.maSV}\r\n                                                </Typography>\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                className={classes.borderTable}\r\n                                            >\r\n                                                {sv.tenSV}\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                align=\"center\"\r\n                                                className={classes.borderTable}\r\n                                            >\r\n                                                {sv.ngaysinh}\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                align=\"center\"\r\n                                                className={classes.borderTable}\r\n                                            >\r\n                                                {sv.gioitinh}\r\n                                            </TableCell>\r\n                                            {checkDateList && checkDateList.dateList.map(\r\n                                                date => {\r\n                                                    if (\r\n                                                        !sv.checkDate.some(\r\n                                                            x => x === date.date\r\n                                                        )\r\n                                                    ) {\r\n                                                        return (\r\n                                                            <TableCell\r\n                                                                key={date._id}\r\n                                                                align=\"center\"\r\n                                                                className={\r\n                                                                    classes.borderTable\r\n                                                                }\r\n                                                            ></TableCell>\r\n                                                        );\r\n                                                    }\r\n                                                    return sv.checkDate.map(\r\n                                                        (kd, index) => {\r\n                                                            if (\r\n                                                                date.date === kd\r\n                                                            ) {\r\n                                                                //console.log(kd)\r\n                                                                return (\r\n                                                                    <TableCell\r\n                                                                        key={\r\n                                                                            index\r\n                                                                        }\r\n                                                                        align=\"center\"\r\n                                                                        className={\r\n                                                                            classes.borderTable\r\n                                                                        }\r\n                                                                    >\r\n                                                                        <CheckIcon />\r\n                                                                    </TableCell>\r\n                                                                );\r\n                                                            }\r\n                                                        }\r\n                                                    );\r\n                                                }\r\n                                            )}\r\n                                        </TableRow>\r\n                                    ))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </div>\r\n                </PerfectScrollbar>\r\n            </CardContent>\r\n            <CardActions className={classes.actions}>\r\n                <TablePagination\r\n                    component=\"div\"\r\n                    count={classById.dssv ? classById.dssv.length : 0}\r\n                    onChangePage={handlePageChange}\r\n                    onChangeRowsPerPage={handleRowsPerPageChange}\r\n                    page={page}\r\n                    rowsPerPage={rowsPerPage}\r\n                    rowsPerPageOptions={[]}\r\n                    backIconButtonProps={{\r\n                        'aria-label': 'previous page'\r\n                    }}\r\n                    nextIconButtonProps={{\r\n                        'aria-label': 'next page'\r\n                    }}\r\n                    labelRowsPerPage=\"\"\r\n                />\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\nexport default withStyles(styles)(PresencesTable);\r\n"]},"metadata":{},"sourceType":"module"}